<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_qc_inspection">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <div class="page" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; color: #1a202c; padding: 0; margin: 0;">

                    <!-- Header -->
                    <div style="background: #2c5aa0; padding: 25px 35px; color: white;">
                        <div style="display: table; width: 100%;">
                            <div style="display: table-cell; vertical-align: middle; width: 70%;">
                                <div style="background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 15px; font-size: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; display: inline-block; margin-bottom: 10px;">
                                    Quality Control
                                </div>
                                <h1 style="margin: 0; font-size: 26px; font-weight: 700;">Inspection Report</h1>
                                <p style="margin: 5px 0 0 0; font-size: 14px; opacity: 0.9;">Smart Inventory &amp; Quality Control System</p>
                            </div>
                            <div style="display: table-cell; vertical-align: middle; text-align: right; width: 30%;">
                                <div style="background: white; color: #667eea; padding: 10px 18px; border-radius: 10px; display: inline-block;">
                                    <div style="font-size: 10px; text-transform: uppercase; letter-spacing: 1px; opacity: 0.7; margin-bottom: 3px;">Report ID</div>
                                    <div style="font-size: 15px; font-weight: 700;" t-field="doc.name"/>
                                </div>
                            </div>
                        </div>

                        <!-- Key Metrics -->
                        <div style="display: table; width: 100%; margin-top: 20px;">
                            <div style="display: table-cell; padding: 14px; background: rgba(255,255,255,0.15); border-radius: 10px; width: 33%;">
                                <div style="font-size: 11px; opacity: 0.8; text-transform: uppercase; margin-bottom: 5px;">Product</div>
                                <div style="font-size: 15px; font-weight: 600;" t-field="doc.product_id"/>
                            </div>
                            <div style="display: table-cell; padding: 14px; background: rgba(255,255,255,0.15); border-radius: 10px; width: 33%; padding-left: 10px; padding-right: 10px;">
                                <div style="font-size: 11px; opacity: 0.8; text-transform: uppercase; margin-bottom: 5px;">Inspector</div>
                                <div style="font-size: 15px; font-weight: 600;" t-field="doc.inspector_id"/>
                            </div>
                            <div style="display: table-cell; padding: 14px; background: rgba(255,255,255,0.15); border-radius: 10px; width: 33%;">
                                <div style="font-size: 11px; opacity: 0.8; text-transform: uppercase; margin-bottom: 5px;">Date</div>
                                <div style="font-size: 15px; font-weight: 600;" t-field="doc.inspection_date"/>
                            </div>
                        </div>
                    </div>

                    <!-- Content Area -->
                    <div style="padding: 25px 35px;">

                        <!-- Status Banner -->
                        <div style="background: #f6f8fb; border-radius: 12px; padding: 20px; margin-bottom: 20px; border: 1px solid #e2e8f0; text-align: center;">
                            <h2 t-att-style="'margin: 0 0 6px 0; font-size: 22px; font-weight: 700; ' + ('color: #10b981;' if doc.state == 'pass' else 'color: #ef4444;' if doc.state == 'fail' else 'color: #f59e0b;')">
                                <t t-if="doc.state == 'pass'">INSPECTION PASSED</t>
                                <t t-elif="doc.state == 'fail'">INSPECTION FAILED</t>
                                <t t-else="">INSPECTION IN PROGRESS</t>
                            </h2>
                            <p style="color: #64748b; font-size: 14px; margin: 0 0 18px 0;">Quality assessment completed</p>

                            <!-- Pass Rate -->
                            <div style="max-width: 400px; margin: 0 auto;">
                                <div style="margin-bottom: 10px;">
                                    <span style="font-size: 14px; font-weight: 600; color: #475569;">Pass Rate: </span>
                                    <span style="font-size: 26px; font-weight: 700; color: #667eea;" t-field="doc.pass_rate"/>
                                    <span style="font-size: 18px; color: #94a3b8;">%</span>
                                </div>
                                <div style="background: #e2e8f0; height: 12px; border-radius: 20px; overflow: hidden;">
                                    <div t-att-style="'width: ' + str(doc.pass_rate) + '%; height: 100%; background: ' + ('#10b981' if doc.pass_rate >= 80 else '#ef4444') + '; border-radius: 20px;'"></div>
                                </div>
                                <div style="margin-top: 10px;">
                                    <span t-att-style="'display: inline-block; padding: 6px 16px; border-radius: 15px; font-size: 12px; font-weight: 600; text-transform: uppercase; ' + ('background: rgba(16,185,129,0.1); color: #10b981;' if doc.pass_rate >= 90 else 'background: rgba(245,158,11,0.1); color: #f59e0b;' if doc.pass_rate >= 70 else 'background: rgba(239,68,68,0.1); color: #ef4444;')">
                                        <t t-if="doc.pass_rate >= 90">EXCELLENT QUALITY</t>
                                        <t t-elif="doc.pass_rate >= 70">GOOD QUALITY</t>
                                        <t t-elif="doc.pass_rate >= 50">FAIR QUALITY</t>
                                        <t t-else="">POOR QUALITY</t>
                                    </span>
                                </div>
                            </div>
                        </div>

                        <!-- Two Column Layout -->
                        <div style="display: table; width: 100%; margin-bottom: 20px;">

                            <!-- Inspection Details -->
                            <div style="display: table-cell; width: 50%; vertical-align: top; padding-right: 12px;">
                                <div style="background: white; border-radius: 12px; border: 1px solid #e2e8f0; overflow: hidden;">
                                    <div style="background: #f8fafc; padding: 12px 18px; border-bottom: 1px solid #e2e8f0;">
                                        <h3 style="margin: 0; font-size: 16px; font-weight: 700; color: #1e293b;">Inspection Details</h3>
                                    </div>
                                    <div style="padding: 18px;">
                                        <table style="width: 100%; border-collapse: collapse;">
                                            <tr>
                                                <td style="padding: 11px 0; border-bottom: 1px solid #f1f5f9; font-size: 12px; color: #64748b; text-transform: uppercase; font-weight: 600;">Product Reference</td>
                                                <td style="padding: 11px 0; border-bottom: 1px solid #f1f5f9; text-align: right; font-size: 14px; font-weight: 600; color: #1e293b;">
                                                    <span t-field="doc.product_id"/>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 11px 0; border-bottom: 1px solid #f1f5f9; font-size: 12px; color: #64748b; text-transform: uppercase; font-weight: 600;">Lot/Serial Number</td>
                                                <td style="padding: 11px 0; border-bottom: 1px solid #f1f5f9; text-align: right; font-size: 14px; font-weight: 600; color: #1e293b;">
                                                    <t t-if="doc.lot_id">
                                                        <span t-field="doc.lot_id"/>
                                                    </t>
                                                    <t t-else="">
                                                        <span style="color: #94a3b8; font-style: italic; font-weight: 400;">Not specified</span>
                                                    </t>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 11px 0; border-bottom: 1px solid #f1f5f9; font-size: 12px; color: #64748b; text-transform: uppercase; font-weight: 600;">Source Transfer</td>
                                                <td style="padding: 11px 0; border-bottom: 1px solid #f1f5f9; text-align: right; font-size: 14px; font-weight: 600; color: #1e293b;">
                                                    <t t-if="doc.picking_id">
                                                        <span t-field="doc.picking_id"/>
                                                    </t>
                                                    <t t-else="">
                                                        <span style="color: #94a3b8; font-style: italic; font-weight: 400;">Manual inspection</span>
                                                    </t>
                                                </td>
                                            </tr>
                                            <tr>
                                                <td style="padding: 11px 0 0 0; font-size: 12px; color: #64748b; text-transform: uppercase; font-weight: 600;">Final Result</td>
                                                <td style="padding: 11px 0 0 0; text-align: right;">
                                                    <span t-if="doc.state == 'pass'" style="display: inline-block; padding: 5px 12px; background: rgba(16,185,129,0.1); color: #10b981; border-radius: 15px; font-size: 12px; font-weight: 700; text-transform: uppercase;">APPROVED</span>
                                                    <span t-elif="doc.state == 'fail'" style="display: inline-block; padding: 5px 12px; background: rgba(239,68,68,0.1); color: #ef4444; border-radius: 15px; font-size: 12px; font-weight: 700; text-transform: uppercase;">REJECTED</span>
                                                    <span t-else="" style="display: inline-block; padding: 5px 12px; background: rgba(245,158,11,0.1); color: #f59e0b; border-radius: 15px; font-size: 12px; font-weight: 700; text-transform: uppercase;" t-field="doc.state"/>
                                                </td>
                                            </tr>
                                        </table>
                                    </div>
                                </div>
                            </div>

                            <!-- Quality Metrics -->
                            <div style="display: table-cell; width: 50%; vertical-align: top; padding-left: 12px;">
                                <div style="background: white; border-radius: 12px; border: 1px solid #e2e8f0; overflow: hidden;">
                                    <div style="background: #f8fafc; padding: 12px 18px; border-bottom: 1px solid #e2e8f0;">
                                        <h3 style="margin: 0; font-size: 16px; font-weight: 700; color: #1e293b;">Quality Metrics</h3>
                                    </div>
                                    <div style="padding: 18px; text-align: center;">
                                        <div style="background: #f8fafc; border-radius: 10px; padding: 18px; border: 1px solid #e2e8f0;">
                                            <div style="font-size: 11px; text-transform: uppercase; letter-spacing: 1px; color: #64748b; margin-bottom: 8px; font-weight: 600;">Quality Rating</div>
                                            <div t-att-style="'font-size: 22px; font-weight: 700; margin-bottom: 10px; ' + ('color: #10b981;' if doc.pass_rate >= 90 else 'color: #f59e0b;' if doc.pass_rate >= 70 else 'color: #ef4444;')">
                                                <t t-if="doc.pass_rate >= 90">EXCELLENT</t>
                                                <t t-elif="doc.pass_rate >= 70">GOOD</t>
                                                <t t-elif="doc.pass_rate >= 50">FAIR</t>
                                                <t t-else="">POOR</t>
                                            </div>
                                            <div style="height: 1px; background: #e2e8f0; margin: 10px 0;"></div>
                                            <div style="font-size: 12px; color: #64748b; line-height: 1.6;">
                                                <t t-if="doc.pass_rate >= 90">Outstanding quality standards met</t>
                                                <t t-elif="doc.pass_rate >= 70">Meets acceptable quality criteria</t>
                                                <t t-elif="doc.pass_rate >= 50">Requires quality improvement</t>
                                                <t t-else="">Below minimum quality threshold</t>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Notes Section -->
                        <t t-if="doc.notes">
                            <div style="background: white; border-radius: 12px; border: 1px solid #e2e8f0; overflow: hidden; margin-bottom: 20px;">
                                <div style="background: #f8fafc; padding: 12px 18px; border-bottom: 1px solid #e2e8f0;">
                                    <h3 style="margin: 0; font-size: 16px; font-weight: 700; color: #1e293b;">Inspection Notes</h3>
                                </div>
                                <div style="padding: 18px;">
                                    <div style="color: #475569; line-height: 1.6; font-size: 14px;" t-field="doc.notes"/>
                                </div>
                            </div>
                        </t>

                        <!-- Footer -->
                        <div style="margin-top: 20px; padding-top: 15px; border-top: 2px solid #e2e8f0;">
                            <table style="width: 100%;">
                                <tr>
                                    <td style="vertical-align: top; width: 60%;">
                                        <div style="color: #64748b; font-size: 11px; line-height: 1.6;">
                                            <div style="font-weight: 600; color: #475569; margin-bottom: 4px;">Report Information</div>
                                            <div>
                                                <strong>Generated:</strong>
                                                <span t-esc="datetime.datetime.now().strftime('%b %d, %Y at %H:%M')"/>
                                            </div>
                                            <div>
                                                <strong>Document ID:</strong>
                                                <span t-field="doc.name"/>
                                            </div>
                                            <div>
                                                <strong>System:</strong> Smart QC System</div>
                                        </div>
                                    </td>
                                    <td style="text-align: right; vertical-align: top; width: 40%;">
                                        <div style="display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 8px 16px; border-radius: 6px; font-size: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 6px;">Certified Report</div>
                                        <div style="color: #94a3b8; font-size: 9px; font-style: italic; line-height: 1.4;">Confidential Document</div>
                                    </td>
                                </tr>
                            </table>
                        </div>

                    </div>
                </div>
            </t>
        </t>
    </template>
</odoo>
